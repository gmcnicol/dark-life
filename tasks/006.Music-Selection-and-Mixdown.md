# Task 006 — Music Selection & Mixdown (Deterministic + Ducking)

Objective: Deterministically choose a music track from MUSIC_DIR and mix under VO with ducking so narration is intelligible.

Implementation Steps
- [ ] Enumerate *.mp3 in MUSIC_DIR; selection policy:
      - named:<file> if provided in job payload
      - else first sorted .mp3
- [ ] Log chosen_track; fail if none found and music required.
- [ ] Mix with ffmpeg filtergraph: sidechaincompress to duck music under VO (target -12 dB during speech).
- [ ] Expose env knobs: MUSIC_GAIN_DB (default -3), DUCKING_DB (default -12).

Tests
- [ ] Unit: selection policy returns expected file for inputs.
- [ ] Integration: ffmpeg run produces two audio streams mixed to one, peak under -1 dBFS.
- [ ] Failure: missing music triggers clear error with directory listing in logs.

Acceptance Criteria
- [ ] Same inputs → same chosen track, logged.
- [ ] Output has audible VO with music audibly ducked during speech.
