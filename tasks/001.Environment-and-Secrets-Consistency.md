# Task 001 â€” Environment & Secrets Consistency

Objective: Harmonize environment variables across services (web, api, renderer). Guarantee no client-to-admin API calls from browser, and zero secret leakage.

Deliverables
- Unified ENV table checked into docs/env.md (or README sections).
- .env.example updated with all required keys.
- Code grep proves no browser fetches admin endpoints directly.
- Next.js Route Handlers attach ADMIN_API_TOKEN server-side only.
- CI check that fails if secrets appear in the client bundle.

Implementation Steps
- [ ] Create/Update .env.example with variables listed in AGENTS.md.
- [ ] In web app, ensure all admin API calls route through /app/api/* handlers.
- [ ] Add ESLint rule to forbid fetch(NEXT_PUBLIC_API_BASE_URL + '/admin'...) in client components.
- [ ] Add CI check: build web, then grep -R "ADMIN_API_TOKEN|ELEVENLABS_API_KEY|API_AUTH_TOKEN" .next must return nothing.
- [ ] Document where each secret is consumed (renderer worker, web server route, API).

Tests
- [ ] Unit: import a client component; ensure linter fails if it references admin paths.
- [ ] Build: verify no secrets in .next/static or serverless traces.
- [ ] Runtime: load the site, open DevTools Network; admin endpoints not visible from browser (only our Next Route Handlers).

Acceptance Criteria
- [ ] .env.example includes all keys from AGENTS.md and no extras.
- [ ] No client bundle contains secrets (CI fails otherwise).
- [ ] Browser never calls admin endpoints directly; only /app/api/* proxy routes.
